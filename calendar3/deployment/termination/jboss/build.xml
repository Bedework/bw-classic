<?xml version="1.0"?>

<!-- ===================================================================
     Termination buildfile for jboss (j2ee) deployment
     =================================================================== -->

<project name="app.deploy" default="deploy" >
  <import file="../copyprops.xml" />

  <target name="init" depends="copyprops">
    <dirname property="this.dir" file="${ant.file}"/>

    <property name="app.resources.dir"
              location="${this.dir}/../webapp/resources" />
  </target>

  <!-- =================================================================
       The "deploy" target builds a single ear file out of the results.
       ================================================================= -->

  <target name="deploy" depends="init,build.configured" >
    <delete dir="${org.bedework.appserver.dir}/${propval.app.resources.dir}" />
    <copy todir="${org.bedework.appserver.dir}/${propval.app.resources.dir}">
      <fileset dir="${app.resources.dir}" />
    </copy>

    <echo message="***************************************************************" />
    <echo message="Readying app ${propval.war.name}.war for jboss deployment" />
    <echo message="***************************************************************" />
  </target>

  <target name="build.configured" >
    <!-- ===============================================================
         Nothing to do here
         =============================================================== -->
  </target>
</project>

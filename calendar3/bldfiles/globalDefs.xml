<!-- ===================================================================
     bedework calendar global definitions.
     This file is imported by build files that want to define all the
     global settings. It defines a globalDefs target

     Do not edit this file - the only site configuration changes should be
     made by creating a bedework.build.properties file in your home
     directory and setting property overrides there.

     See the documentation in the docs directory for details.
     =================================================================== -->

<project name="bwGlobalDefs" default="globalDefs">
  <property environment="env"/>

    <!-- ===============================================================
              Default properties.
         =============================================================== -->

  <property name="org.bedework.defaultdefs.properties"
            location="${org.bedework.calendar.dir}/bldfiles/defaultDefs.properties"/>

  <target name="globalDefs" >
    <!-- This needs reinvestigating - there still seem to be problems with xalan
         If this stays it should be a config property

         For a tomcat deployed version with the broken jvm (1.4.2_03) we need to
         use a version of xalan in the common/endorsed tomcat directory.
         Comment this out to stop the copy
         This may get fixed. See:
         http://marc.theaimsgroup.com/?l=xml-cocoon-dev&m=104547205330116&w=2
         http://wiki.cocoondev.org/Wiki.jsp?page=EndorsedLibsProblem
         http://www.mail-archive.com/users@cocoon.apache.org/msg08191.html
         -->
    <property name="xalan.in.tomcat.common.endorsed" value="yes" />

    <!-- Overriding this when invoking ant allows different user property
         files to be included e.g.
            ant -Dorg.bedework.user.build.properties=/home/me/bedework.properties ...
            -->
    <property name="org.bedework.user.build.properties"
              location="${user.home}/bedework.build.properties" />

    <echo message="Load user properties from ${org.bedework.user.build.properties}" />

    <!-- Load user property definition overrides -->
    <property file="${org.bedework.user.build.properties}" />

    <!-- ===============================================================
              Default properties.
         =============================================================== -->

    <echo message="Load default properties from ${org.bedework.defaultdefs.properties}" />
    <property file="${org.bedework.defaultdefs.properties}" />

    <!-- ===============================================================
              Properties derived from org.bedework.calendar.dir
         =============================================================== -->

    <!-- This is the default location for the canoo files.
      -->
    <property name="webtest.home" location="${org.bedework.calendar.dir}/../webtest" />

    <!-- Where the web-apps skeletons, build files etc reside -->
    <property name="apps.root.dir" location="${org.bedework.calendar.dir}/apps" />
    <property name="cal.default.db" location="${org.bedework.calendar.dir}/db" />
    <property name="org.bedework.default.lib" location="${org.bedework.calendar.dir}/lib" />
    <property name="org.bedework.jdbc.lib" location="${org.bedework.default.lib}/jdbc" />
    <property name="html.dir" location="${org.bedework.calendar.dir}/html" />

    <!-- Component locations -->

    <property name="org.bedework.access.base" location="${org.bedework.calendar.dir}/access" />
    <property name="org.bedework.appcommon.base" location="${org.bedework.calendar.dir}/appcommon" />
    <property name="org.bedework.caldav.base" location="${org.bedework.calendar.dir}/caldav" />
    <property name="org.bedework.caldavbexchange.base"
              location="${org.bedework.calendar.dir}/caldavBexchange" />
    <property name="org.bedework.caldavdomino.base"
              location="${org.bedework.calendar.dir}/caldavDomino" />
    <property name="org.bedework.caldavgoogle.base"
              location="${org.bedework.calendar.dir}/caldavGoogle" />
    <property name="org.bedework.caldavClientApi.base"
              location="${org.bedework.calendar.dir}/caldavClientApi" />
    <property name="org.bedework.caldavtest.base"
              location="${org.bedework.calendar.dir}/caldavTest" />
    <property name="org.bedework.calenv.base" location="${org.bedework.calendar.dir}/calEnv" />
    <property name="org.bedework.calfacade.base" location="${org.bedework.calendar.dir}/calFacade" />
    <property name="org.bedework.calsvc.base" location="${org.bedework.calendar.dir}/calsvc" />
    <property name="org.bedework.calsvci.base" location="${org.bedework.calendar.dir}/calsvci" />
    <property name="org.bedework.common.base" location="${org.bedework.calendar.dir}/common" />
    <property name="org.bedework.config.base" location="${org.bedework.calendar.dir}/config" />
    <property name="org.bedework.core.base" location="${org.bedework.calendar.dir}/calCore" />
    <property name="org.bedework.davdefs.base" location="${org.bedework.calendar.dir}/davdefs" />
    <property name="org.bedework.deployment.base" location="${org.bedework.calendar.dir}/deployment" />
    <property name="org.bedework.dumprestore.base" location="${org.bedework.calendar.dir}/dumprestore" />
    <property name="org.bedework.http.base" location="${org.bedework.calendar.dir}/http" />
    <property name="org.bedework.ical.base" location="${org.bedework.calendar.dir}/icalendar" />
    <property name="org.bedework.locale.base" location="${org.bedework.calendar.dir}/locale" />
    <property name="org.bedework.logging.base" location="${org.bedework.calendar.dir}/logging" />
    <property name="org.bedework.mail.base" location="${org.bedework.calendar.dir}/mail" />
    <property name="org.bedework.synchml.base" location="${org.bedework.calendar.dir}/synchml" />
    <property name="org.bedework.testsuite.base" location="${org.bedework.calendar.dir}/test" />
    <property name="org.bedework.timers.base" location="${org.bedework.calendar.dir}/timers" />
    <property name="org.bedework.tools.base" location="${org.bedework.calendar.dir}/tools" />
    <property name="org.bedework.uportal.base" location="${org.bedework.calendar.dir}/uportal" />
    <property name="org.bedework.webadmin.base" location="${org.bedework.calendar.dir}/webadmin" />
    <property name="org.bedework.webclient.base" location="${org.bedework.calendar.dir}/webclient" />
    <property name="org.bedework.webcommon.base" location="${org.bedework.calendar.dir}/webcommon" />
    <property name="org.bedework.webtest.base" location="${org.bedework.calendar.dir}/webtest" />

    <!-- This has to be here for now -->
    <property name="org.bedework.fbwebclient.base"
              location="${org.bedework.freebusy.dir}/webclient" />

    <!-- ======================= Directory Names =======================
        These properties generally define file and directory names (or
        paths) that affect where the build process stores its outputs.

        org.bedework.temp.home  The directory into which the
                             "compile" target will generate some of their
                             output. Defaults to "temp".

        dist.home            The name of the base directory in which
                             distribution files are created.
                             Defaults to "dist".
         =============================================================== -->

    <property name="org.bedework.bld.home" location="${org.bedework.calendar.dir}/bldfiles"/>
    <property name="dist.home" location="${org.bedework.calendar.dir}/dist"/>

    <!-- ===============================================================
              Properties derived from org.bedework.temp.home
         =============================================================== -->

    <property name="org.bedework.temp.home" location="${org.bedework.calendar.dir}/temp"/>

    <!-- As application components are built, they copy any needed jars into
         this directory -->
    <property name="org.bedework.temp.jars" location="${org.bedework.temp.home}/jars"/>

    <!-- As we build jars temporary files end up under here -->
    <property name="org.bedework.temp.jartemp.dir"
              location="${org.bedework.temp.home}/jartemp" />

    <!-- Define an empty dir and fileset -->
    <property name="org.bedework.empty.dir"
              location="${org.bedework.temp.home}/empty-dir" />
    <mkdir dir="${org.bedework.empty.dir}" />
    <fileset id="empty.fileset" dir="${org.bedework.empty.dir}"
             excludes="*" />

    <!-- unconfigured applications get built in this directory -->
    <property name="org.bedework.temp.preconfig.home"
              location="${org.bedework.temp.home}/preconfig"/>

    <!-- wars get built in this directory -->
    <property name="org.bedework.temp.wars.home"
              location="${org.bedework.temp.home}/wars"/>

    <!-- ears get built in this directory -->
    <property name="org.bedework.temp.ears.home"
              location="${org.bedework.temp.home}/ears"/>

    <!-- Shell scripts get built in this directory -->
    <property name="org.bedework.temp.shellscr.home"
              location="${org.bedework.temp.home}/shellscr"/>

    <!-- ............... test results .................................. -->
    <property name="org.bedework.temp.test.dir"
              location="${org.bedework.temp.home}/test"/>

    <property name="org.bedework.test.logs"
              location="${org.bedework.temp.test.dir}/logs"/>

    <!-- ===============================================================
              Properties derived from org.bedework.bld.home
         =============================================================== -->

    <!-- define location of generic build files -->
    <property name="buildjar" location="${org.bedework.bld.home}/buildjar.xml" />
    <property name="buildwar" location="${org.bedework.bld.home}/buildwar.xml" />
    <property name="buildear" location="${org.bedework.bld.home}/buildear.xml" />
    <property name="org.bedework.buildsh"
              location="${org.bedework.bld.home}/buildsh.xml" />
    <property name="buildcoreprops" location="${org.bedework.bld.home}/bldcoreprops.xml" />

    <property name="application.xml"
              location="${org.bedework.bld.home}/application.xml" />

    <!-- define location of jar files -->
    <property name="org.bedework.defjars"
              location="${org.bedework.bld.home}/defjars.properties" />

    <!-- default to empty -->
    <fileset id="base.resource.files" refid="empty.fileset" />

    <property file="${org.bedework.defjars}"/>

    <!-- Define where test suite finds resources -->
    <property name="uwcal.test.env.properties.root"
              location="${org.bedework.testsuite.base}/resources" />
  </target>
</project>


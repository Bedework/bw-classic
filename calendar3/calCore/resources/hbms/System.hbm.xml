<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
  "-//Hibernate/Hibernate Mapping DTD//EN"
  "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<!-- ===================================================================
     Object representing the system parameters
     =================================================================== -->

<hibernate-mapping>
  <class name="org.bedework.calfacade.BwSystem"
         table="bedework_settings">
    <cache usage="read-write"/>
    <id name="id" type="integer" column="id" unsaved-value="-1">
      <generator class="native"/>
    </id>

    <version name="seq" column="seq" type="integer" />

    <property name="name" column="name" type="text" />
    <property name="tzid" column="tzid" type="text" />
    <property name="systemid" column="systemid" type="text" />
    <property name="publicCalendarRoot" column="publicCalendarRoot" type="text" />
    <property name="userCalendarRoot" column="userCalendarRoot" type="text" />
    <property name="userDefaultCalendar" column="userDefaultCalendar" type="text" />
    <property name="defaultTrashCalendar" column="defaultTrashCalendar" type="text" />
    <property name="userInbox" column="userInbox" type="text" />
    <property name="userOutbox" column="userOutbox" type="text" />

    <property name="publicUser" column="public_user" type="text" />

    <property name="directoryBrowsingDisallowed" type="true_false" >
      <column name="directory_browsing_disallowed" not-null="true" />
    </property>

    <property name="httpConnectionsPerUser" column="http_connections_per_user" type="integer" />
    <property name="httpConnectionsPerHost" column="http_connections_per_host" type="integer" />
    <property name="httpConnections" column="http_connections" type="integer" />

    <property name="userauthClass" column="userauth_class" type="text" />
    <property name="mailerClass" column="mailer_class" type="text" />
    <property name="admingroupsClass" column="admingroups_class" type="text" />
    <property name="usergroupsClass" column="usergroups_class" type="text" />
  </class>

  <!-- =================================================================
       System parameters queries
       ================================================================= -->

  <query name="getSystemPars"><![CDATA[
    from org.bedework.calfacade.BwSystem as sys
      where sys.name = :name
  ]]></query>
</hibernate-mapping>


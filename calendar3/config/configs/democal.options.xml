<!-- This provides run time options for each of the configured applications.
  -->
<bedework-options>
  <org>
    <bedework>
      <global>
        <module>
          <user-ldap-group classname="org.bedework.calcore.ldap.LdapConfigProperties">
            <initialContextFactory>com.sun.jndi.ldap.LdapCtxFactory</initialContextFactory>
            <providerUrl>ldap://localhost/</providerUrl>
            <groupContextDn>ou=groups, dc=bedework, dc=org</groupContextDn>
            <groupMemberAttr>uniqueMember</groupMemberAttr>
            <userDnPrefix>uid=</userDnPrefix>
            <userDnSuffix>,ou=accounts, dc=bedework, dc=org</userDnSuffix>
            <groupDnPrefix>cn=</groupDnPrefix>
            <groupDnSuffix>,ou=groups, dc=bedework, dc=org</groupDnSuffix>
            <debug>true</debug>
          </user-ldap-group>
        </module>
      </global>

      <!-- Only used for system initialisation or conversion from 2.3 - ignored thereafter -->
      <syspars classname="org.bedework.calfacade.BwSystem">
        <!-- name must match the global system name -->
        <name>bedework</name>
        <tzid>America/New_York</tzid>
        <systemid>demobedework@mysite.edu</systemid>

        <publicCalendarRoot>public</publicCalendarRoot>
        <userCalendarRoot>user</userCalendarRoot>
        <userDefaultCalendar>calendar</userDefaultCalendar>
        <defaultTrashCalendar>Trash</defaultTrashCalendar>
        <userInbox>Inbox</userInbox>
        <userOutbox>Outbox</userOutbox>
        <deletedCalendar>Deleted</deletedCalendar>
        <busyCalendar>Busy</busyCalendar>

        <defaultUserViewName>All</defaultUserViewName>

        <publicUser>public-user</publicUser>

        <httpConnectionsPerUser>10</httpConnectionsPerUser>
        <httpConnectionsPerHost>50</httpConnectionsPerHost>
        <httpConnections>200</httpConnections>


        <!-- size limits -->
        <maxPublicDescriptionLength>500</maxPublicDescriptionLength>
        <maxUserDescriptionLength>1000</maxUserDescriptionLength>
        <maxUserEntitySize>100000</maxUserEntitySize>
        <defaultUserQuota>10000000</defaultUserQuota> <!-- 10 Meg OK? -->

        <!-- Max number of instances per recurring event -->
        <maxInstances>1000</maxInstances>

        <userauthClass>org.bedework.calcore.hibernate.UserAuthUWDbImpl</userauthClass>
        <mailerClass>org.bedework.mail.DummyMailer</mailerClass>
        <admingroupsClass>org.bedework.calcore.hibernate.AdminGroupsDbImpl</admingroupsClass>
        <!--
        <usergroupsClass>org.bedework.calcore.ldap.UserGroupsLdapImpl</usergroupsClass>
        -->
        <usergroupsClass>org.bedework.calcore.hibernate.GroupsDbImpl</usergroupsClass>
      </syspars>

      <app>
        <!-- ==================================================================
                          Admin web client CalAdmin
             ================================================================== -->
        <CalAdmin classname="org.bedework.webcommon.AdminConfig">
          <autoCreateSponsors>false</autoCreateSponsors>
          <autoDeleteSponsors>false</autoDeleteSponsors>
          <autoCreateLocations>false</autoCreateLocations>
          <autoDeleteLocations>false</autoDeleteLocations>
          <allowEditAllCategories>false</allowEditAllCategories>
          <allowEditAllLocations>false</allowEditAllLocations>
          <allowEditAllSponsors>false</allowEditAllSponsors>
          <categoryOptional>true</categoryOptional>

          <!-- Default value for 24 hour mode -->
          <hour24>true</hour24>

          <!-- Default value for minute increments -->
          <minIncrement>5</minIncrement>

          <logPrefix>PubEventsAdmin</logPrefix>

          <appRoot>@APPLICATION-ROOT@</appRoot>
          <portalPlatform>@PORTAL-PLATFORM@</portalPlatform>
        </CalAdmin>

        <!-- ==================================================================
                          Public web client Events
             ================================================================== -->
        <Events classname="org.bedework.webcommon.ClientConfig">
          <autoCreateSponsors>false</autoCreateSponsors>
          <autoDeleteSponsors>false</autoDeleteSponsors>
          <autoCreateLocations>false</autoCreateLocations>
          <autoDeleteLocations>false</autoDeleteLocations>

          <!-- Default value for 24 hour mode -->
          <hour24>true</hour24>

          <!-- Default value for minute increments -->
          <minIncrement>5</minIncrement>

          <showYearData>false</showYearData>

          <logPrefix>PubEvents</logPrefix>

          <appRoot>@APPLICATION-ROOT@</appRoot>
          <portalPlatform>@PORTAL-PLATFORM@</portalPlatform>

          <refreshAction>setup.do</refreshAction>
          <refreshInterval>300</refreshInterval>

          <calSuite>@CAL-SUITE@</calSuite>
        </Events>

        <!-- ==================================================================
                          Demo departmental Public web client SoEDept
             ================================================================== -->
        <SoEDept classname="org.bedework.webcommon.ClientConfig">
          <autoCreateSponsors>false</autoCreateSponsors>
          <autoDeleteSponsors>false</autoDeleteSponsors>
          <autoCreateLocations>false</autoCreateLocations>
          <autoDeleteLocations>false</autoDeleteLocations>

          <!-- Default value for 24 hour mode -->
          <hour24>true</hour24>

          <!-- Default value for minute increments -->
          <minIncrement>5</minIncrement>

          <showYearData>false</showYearData>

          <logPrefix>SoEDept</logPrefix>

          <appRoot>@APPLICATION-ROOT@</appRoot>
          <portalPlatform>@PORTAL-PLATFORM@</portalPlatform>

          <refreshAction>setup.do</refreshAction>
          <refreshInterval>300</refreshInterval>

          <calSuite>@CAL-SUITE@</calSuite>
        </SoEDept>

        <!-- ==================================================================
                          User web client UserCal
             ================================================================== -->
        <UserCal classname="org.bedework.webcommon.ClientConfig">
          <autoCreateSponsors>false</autoCreateSponsors>
          <autoDeleteSponsors>false</autoDeleteSponsors>
          <autoCreateLocations>false</autoCreateLocations>
          <autoDeleteLocations>false</autoDeleteLocations>

          <!-- Default value for 24 hour mode -->
          <hour24>true</hour24>

          <!-- Default value for minute increments -->
          <minIncrement>5</minIncrement>

          <showYearData>false</showYearData>

          <logPrefix>PersonalCalendar</logPrefix>

          <appRoot>@APPLICATION-ROOT@</appRoot>
          <portalPlatform>@PORTAL-PLATFORM@</portalPlatform>

          <refreshAction>setup.do</refreshAction>
          <refreshInterval>300</refreshInterval>
        </UserCal>

        <!-- ==================================================================
                          Dump restore program dumpres
             ================================================================== -->
        <dumpres classname="org.bedework.calfacade.configs.DumpRestoreConfig">
          <debug>true</debug>
          <debugEntity>false</debugEntity>
          <superGroupName>campusAdminGroups</superGroupName>
          <defaultPublicCalPath>/public/Other Events/Other</defaultPublicCalPath>
        </dumpres>

        <!-- ==================================================================
                          Dump restore program restoreFrom2p3px
             Use the restore utility to convert from uwcal 2.3
             ================================================================== -->
        <restoreFrom2p3px classname="org.bedework.calfacade.configs.DumpRestoreConfig">
          <debug>true</debug>
          <debugEntity>false</debugEntity>
          <from2p3px>true</from2p3px>
          <timezonesFilename>resources/bwtimezones.xml</timezonesFilename>
          <superGroupName>campusAdminGroups</superGroupName>
          <defaultPublicCalPath>/public/Other Events/Other</defaultPublicCalPath>
        </restoreFrom2p3px>
      </app>
    </bedework>
  </org>
</bedework-options>


#! /bin/sh

# Script to start jboss with properties defined
# This currently needs to be executed out of the quickstart directory

BASE_DIR=`pwd`

JBOSS_VERSION="jboss-5.1.0.GA"
JBOSS_CONFIG="-c default"
JBOSS_SERVER_DIR="$BASE_DIR/$JBOSS_VERSION/server/$JBOSS_CONFIG"
JBOSS_DATA_DIR="$JBOSS_SERVER_DIR/data"

ACTIVEMQ_DIRPREFIX="-Dorg.apache.activemq.default.directory.prefix=$JBOSS_DATA_DIR/"

LOG_THRESHOLD="-Djboss.server.log.threshold=DEBUG"

BW_DATA_DIR=$JBOSS_DATA_DIR/bedework
BW_DATA_DIR_DEF=-Dorg.bedework.data.dir=$BW_DATA_DIR/

RUN_CMD="./$JBOSS_VERSION/bin/run.sh $JBOSS_CONFIG $LOG_THRESHOLD $ACTIVEMQ_DIRPREFIX $BW_DATA_DIR_DEF"

echo $RUN_CMD

$RUN_CMD
 